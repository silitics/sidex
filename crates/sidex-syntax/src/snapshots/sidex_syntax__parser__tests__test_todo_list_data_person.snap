---
source: crates/sidex-syntax/src/parser.rs
expression: result
---
Some(
    Schema {
        attrs: [],
        docs: Docs(
            [
                Node {
                    inner: " Data structures for persons.",
                    span: Span(
                        Span {
                            src: SourceIdx(
                                0,
                            ),
                            start: 0,
                            end: 33,
                        },
                    ),
                },
            ],
        ),
        items: [
            Import(
                Import {
                    tree: Path(
                        Path {
                            segments: [
                                Identifier(
                                    Node {
                                        inner: "ids",
                                        span: Span(
                                            Span {
                                                src: SourceIdx(
                                                    0,
                                                ),
                                                start: 41,
                                                end: 44,
                                            },
                                        ),
                                    },
                                ),
                            ],
                            is_absolute: false,
                        },
                    ),
                },
            ),
            Def(
                Def {
                    name: Identifier(
                        Node {
                            inner: "Role",
                            span: Span(
                                Span {
                                    src: SourceIdx(
                                        0,
                                    ),
                                    start: 80,
                                    end: 84,
                                },
                            ),
                        },
                    ),
                    docs: Docs(
                        [
                            Node {
                                inner: " A *role* of a person.",
                                span: Span(
                                    Span {
                                        src: SourceIdx(
                                            0,
                                        ),
                                        start: 46,
                                        end: 72,
                                    },
                                ),
                            },
                        ],
                    ),
                    vars: [],
                    attrs: [],
                    kind: VariantType(
                        VariantTypeDef {
                            variants: [
                                Variant {
                                    name: Identifier(
                                        Node {
                                            inner: "Admin",
                                            span: Span(
                                                Span {
                                                    src: SourceIdx(
                                                        0,
                                                    ),
                                                    start: 131,
                                                    end: 136,
                                                },
                                            ),
                                        },
                                    ),
                                    docs: Docs(
                                        [
                                            Node {
                                                inner: " The person is an administrator.",
                                                span: Span(
                                                    Span {
                                                        src: SourceIdx(
                                                            0,
                                                        ),
                                                        start: 91,
                                                        end: 127,
                                                    },
                                                ),
                                            },
                                        ],
                                    ),
                                    attrs: [],
                                    typ: None,
                                },
                                Variant {
                                    name: Identifier(
                                        Node {
                                            inner: "User",
                                            span: Span(
                                                Span {
                                                    src: SourceIdx(
                                                        0,
                                                    ),
                                                    start: 173,
                                                    end: 177,
                                                },
                                            ),
                                        },
                                    ),
                                    docs: Docs(
                                        [
                                            Node {
                                                inner: " The person is an user.",
                                                span: Span(
                                                    Span {
                                                        src: SourceIdx(
                                                            0,
                                                        ),
                                                        start: 142,
                                                        end: 169,
                                                    },
                                                ),
                                            },
                                        ],
                                    ),
                                    attrs: [],
                                    typ: None,
                                },
                            ],
                        },
                    ),
                },
            ),
            Def(
                Def {
                    name: Identifier(
                        Node {
                            inner: "Person",
                            span: Span(
                                Span {
                                    src: SourceIdx(
                                        0,
                                    ),
                                    start: 203,
                                    end: 209,
                                },
                            ),
                        },
                    ),
                    docs: Docs(
                        [
                            Node {
                                inner: " A person.",
                                span: Span(
                                    Span {
                                        src: SourceIdx(
                                            0,
                                        ),
                                        start: 182,
                                        end: 196,
                                    },
                                ),
                            },
                        ],
                    ),
                    vars: [],
                    attrs: [],
                    kind: RecordType(
                        RecordTypeDef {
                            fields: [
                                Field {
                                    name: Identifier(
                                        Node {
                                            inner: "id",
                                            span: Span(
                                                Span {
                                                    src: SourceIdx(
                                                        0,
                                                    ),
                                                    start: 253,
                                                    end: 255,
                                                },
                                            ),
                                        },
                                    ),
                                    docs: Docs(
                                        [
                                            Node {
                                                inner: " The unique id of the person.",
                                                span: Span(
                                                    Span {
                                                        src: SourceIdx(
                                                            0,
                                                        ),
                                                        start: 216,
                                                        end: 249,
                                                    },
                                                ),
                                            },
                                        ],
                                    ),
                                    attrs: [],
                                    typ: Instance(
                                        InstanceTypeExpr {
                                            path: Path {
                                                segments: [
                                                    Identifier(
                                                        Node {
                                                            inner: "ids",
                                                            span: Span(
                                                                Span {
                                                                    src: SourceIdx(
                                                                        0,
                                                                    ),
                                                                    start: 257,
                                                                    end: 260,
                                                                },
                                                            ),
                                                        },
                                                    ),
                                                    Identifier(
                                                        Node {
                                                            inner: "PersonId",
                                                            span: Span(
                                                                Span {
                                                                    src: SourceIdx(
                                                                        0,
                                                                    ),
                                                                    start: 262,
                                                                    end: 270,
                                                                },
                                                            ),
                                                        },
                                                    ),
                                                ],
                                                is_absolute: false,
                                            },
                                            subst: [],
                                        },
                                    ),
                                    is_optional: false,
                                },
                                Field {
                                    name: Identifier(
                                        Node {
                                            inner: "name",
                                            span: Span(
                                                Span {
                                                    src: SourceIdx(
                                                        0,
                                                    ),
                                                    start: 313,
                                                    end: 317,
                                                },
                                            ),
                                        },
                                    ),
                                    docs: Docs(
                                        [
                                            Node {
                                                inner: " The full name of the person.",
                                                span: Span(
                                                    Span {
                                                        src: SourceIdx(
                                                            0,
                                                        ),
                                                        start: 276,
                                                        end: 309,
                                                    },
                                                ),
                                            },
                                        ],
                                    ),
                                    attrs: [],
                                    typ: Instance(
                                        InstanceTypeExpr {
                                            path: Path {
                                                segments: [
                                                    Identifier(
                                                        Node {
                                                            inner: "string",
                                                            span: Span(
                                                                Span {
                                                                    src: SourceIdx(
                                                                        0,
                                                                    ),
                                                                    start: 319,
                                                                    end: 325,
                                                                },
                                                            ),
                                                        },
                                                    ),
                                                ],
                                                is_absolute: false,
                                            },
                                            subst: [],
                                        },
                                    ),
                                    is_optional: false,
                                },
                                Field {
                                    name: Identifier(
                                        Node {
                                            inner: "email",
                                            span: Span(
                                                Span {
                                                    src: SourceIdx(
                                                        0,
                                                    ),
                                                    start: 381,
                                                    end: 386,
                                                },
                                            ),
                                        },
                                    ),
                                    docs: Docs(
                                        [
                                            Node {
                                                inner: " An optional e-mail address of the person.",
                                                span: Span(
                                                    Span {
                                                        src: SourceIdx(
                                                            0,
                                                        ),
                                                        start: 331,
                                                        end: 377,
                                                    },
                                                ),
                                            },
                                        ],
                                    ),
                                    attrs: [],
                                    typ: Instance(
                                        InstanceTypeExpr {
                                            path: Path {
                                                segments: [
                                                    Identifier(
                                                        Node {
                                                            inner: "string",
                                                            span: Span(
                                                                Span {
                                                                    src: SourceIdx(
                                                                        0,
                                                                    ),
                                                                    start: 389,
                                                                    end: 395,
                                                                },
                                                            ),
                                                        },
                                                    ),
                                                ],
                                                is_absolute: false,
                                            },
                                            subst: [],
                                        },
                                    ),
                                    is_optional: true,
                                },
                                Field {
                                    name: Identifier(
                                        Node {
                                            inner: "role",
                                            span: Span(
                                                Span {
                                                    src: SourceIdx(
                                                        0,
                                                    ),
                                                    start: 489,
                                                    end: 493,
                                                },
                                            ),
                                        },
                                    ),
                                    docs: Docs(
                                        [
                                            Node {
                                                inner: " The role of the person.",
                                                span: Span(
                                                    Span {
                                                        src: SourceIdx(
                                                            0,
                                                        ),
                                                        start: 429,
                                                        end: 457,
                                                    },
                                                ),
                                            },
                                        ],
                                    ),
                                    attrs: [
                                        Attr {
                                            kind: List(
                                                AttrList {
                                                    path: Path {
                                                        segments: [
                                                            Identifier(
                                                                Node {
                                                                    inner: "json",
                                                                    span: Span(
                                                                        Span {
                                                                            src: SourceIdx(
                                                                                0,
                                                                            ),
                                                                            start: 463,
                                                                            end: 467,
                                                                        },
                                                                    ),
                                                                },
                                                            ),
                                                        ],
                                                        is_absolute: false,
                                                    },
                                                    elements: [
                                                        Attr {
                                                            kind: Assign(
                                                                AttrAssign {
                                                                    path: Path {
                                                                        segments: [
                                                                            Identifier(
                                                                                Node {
                                                                                    inner: "name",
                                                                                    span: Span(
                                                                                        Span {
                                                                                            src: SourceIdx(
                                                                                                0,
                                                                                            ),
                                                                                            start: 468,
                                                                                            end: 472,
                                                                                        },
                                                                                    ),
                                                                                },
                                                                            ),
                                                                        ],
                                                                        is_absolute: false,
                                                                    },
                                                                    value: Attr {
                                                                        kind: Tokens(
                                                                            TokenStream(
                                                                                [
                                                                                    Token {
                                                                                        kind: Literal(
                                                                                            String(
                                                                                                "level",
                                                                                            ),
                                                                                        ),
                                                                                        span: Span(
                                                                                            Span {
                                                                                                src: SourceIdx(
                                                                                                    0,
                                                                                                ),
                                                                                                start: 475,
                                                                                                end: 482,
                                                                                            },
                                                                                        ),
                                                                                    },
                                                                                ],
                                                                            ),
                                                                        ),
                                                                    },
                                                                },
                                                            ),
                                                        },
                                                    ],
                                                },
                                            ),
                                        },
                                    ],
                                    typ: Instance(
                                        InstanceTypeExpr {
                                            path: Path {
                                                segments: [
                                                    Identifier(
                                                        Node {
                                                            inner: "Role",
                                                            span: Span(
                                                                Span {
                                                                    src: SourceIdx(
                                                                        0,
                                                                    ),
                                                                    start: 495,
                                                                    end: 499,
                                                                },
                                                            ),
                                                        },
                                                    ),
                                                ],
                                                is_absolute: false,
                                            },
                                            subst: [],
                                        },
                                    ),
                                    is_optional: false,
                                },
                                Field {
                                    name: Identifier(
                                        Node {
                                            inner: "friends",
                                            span: Span(
                                                Span {
                                                    src: SourceIdx(
                                                        0,
                                                    ),
                                                    start: 557,
                                                    end: 564,
                                                },
                                            ),
                                        },
                                    ),
                                    docs: Docs(
                                        [
                                            Node {
                                                inner: " Unique identifiers of the person's friends.",
                                                span: Span(
                                                    Span {
                                                        src: SourceIdx(
                                                            0,
                                                        ),
                                                        start: 505,
                                                        end: 553,
                                                    },
                                                ),
                                            },
                                        ],
                                    ),
                                    attrs: [],
                                    typ: Sequence(
                                        SequenceTypeExpr {
                                            element: Instance(
                                                InstanceTypeExpr {
                                                    path: Path {
                                                        segments: [
                                                            Identifier(
                                                                Node {
                                                                    inner: "ids",
                                                                    span: Span(
                                                                        Span {
                                                                            src: SourceIdx(
                                                                                0,
                                                                            ),
                                                                            start: 567,
                                                                            end: 570,
                                                                        },
                                                                    ),
                                                                },
                                                            ),
                                                            Identifier(
                                                                Node {
                                                                    inner: "PersonId",
                                                                    span: Span(
                                                                        Span {
                                                                            src: SourceIdx(
                                                                                0,
                                                                            ),
                                                                            start: 572,
                                                                            end: 580,
                                                                        },
                                                                    ),
                                                                },
                                                            ),
                                                        ],
                                                        is_absolute: false,
                                                    },
                                                    subst: [],
                                                },
                                            ),
                                        },
                                    ),
                                    is_optional: false,
                                },
                            ],
                        },
                    ),
                },
            ),
            Def(
                Def {
                    name: Identifier(
                        Node {
                            inner: "GetPersonResult",
                            span: Span(
                                Span {
                                    src: SourceIdx(
                                        0,
                                    ),
                                    start: 666,
                                    end: 681,
                                },
                            ),
                        },
                    ),
                    docs: Docs(
                        [
                            Node {
                                inner: " Result type for [`get_person_by_id`].",
                                span: Span(
                                    Span {
                                        src: SourceIdx(
                                            0,
                                        ),
                                        start: 616,
                                        end: 658,
                                    },
                                ),
                            },
                        ],
                    ),
                    vars: [],
                    attrs: [],
                    kind: VariantType(
                        VariantTypeDef {
                            variants: [
                                Variant {
                                    name: Identifier(
                                        Node {
                                            inner: "NotFound",
                                            span: Span(
                                                Span {
                                                    src: SourceIdx(
                                                        0,
                                                    ),
                                                    start: 743,
                                                    end: 751,
                                                },
                                            ),
                                        },
                                    ),
                                    docs: Docs(
                                        [
                                            Node {
                                                inner: " A person with the provided id cannot be found.",
                                                span: Span(
                                                    Span {
                                                        src: SourceIdx(
                                                            0,
                                                        ),
                                                        start: 688,
                                                        end: 739,
                                                    },
                                                ),
                                            },
                                        ],
                                    ),
                                    attrs: [],
                                    typ: None,
                                },
                                Variant {
                                    name: Identifier(
                                        Node {
                                            inner: "Found",
                                            span: Span(
                                                Span {
                                                    src: SourceIdx(
                                                        0,
                                                    ),
                                                    start: 811,
                                                    end: 816,
                                                },
                                            ),
                                        },
                                    ),
                                    docs: Docs(
                                        [
                                            Node {
                                                inner: " A person with the provided id has been found.",
                                                span: Span(
                                                    Span {
                                                        src: SourceIdx(
                                                            0,
                                                        ),
                                                        start: 757,
                                                        end: 807,
                                                    },
                                                ),
                                            },
                                        ],
                                    ),
                                    attrs: [],
                                    typ: Some(
                                        Instance(
                                            InstanceTypeExpr {
                                                path: Path {
                                                    segments: [
                                                        Identifier(
                                                            Node {
                                                                inner: "Person",
                                                                span: Span(
                                                                    Span {
                                                                        src: SourceIdx(
                                                                            0,
                                                                        ),
                                                                        start: 818,
                                                                        end: 824,
                                                                    },
                                                                ),
                                                            },
                                                        ),
                                                    ],
                                                    is_absolute: false,
                                                },
                                                subst: [],
                                            },
                                        ),
                                    ),
                                },
                            ],
                        },
                    ),
                },
            ),
        ],
    },
)
